<div *ngIf="blad">
    Wystapil blad! Sprobuj zapisac ponownie!
</div>
<div *ngIf="zapisujemy">
    Zapisujemy dane...
</div>
<div *ngIf="zapisano">
    Zapisano dane z formularza. Dziekujemy!
</div>
<div *ngIf="!zapisujemy">

    <!-- odkomentowac gdyby byla potrzeba sprawdzenia stanu fomularza
    <pre>{{ forma.value | json }}</pre>
    -->

    <form [formGroup]="forma">

        <div>
            <label for="imieid">Imię</label>
            <input type="text" formControlName="imie" id="imieid">
            <ul *ngIf="forma.controls['imie'].errors">
                <li *ngIf="forma.controls['imie'].errors['minlength']">Imie jest zbyt krótkie
                    (obecnie: {{forma.controls['imie'].errors['minlength'].actualLength}} znakow, 
                    a minimum to {{forma.controls['imie'].errors['minlength'].requiredLength}} znakow)
                </li>
                <li *ngIf="forma.controls['imie'].errors['maxlength']">Imie jest zbyt długie
                    (obecnie: {{forma.controls['imie'].errors['maxlength'].actualLength}} znakow, 
                    a maximum to {{forma.controls['imie'].errors['maxlength'].requiredLength}} znakow)
                </li>
                <li *ngIf="forma.controls['imie'].errors['required']">Imie wymagane
                </li>
            </ul>
        </div>

        <div>
            <label for="nazwiskoid">Nazwisko</label>
            <input type="text" formControlName="nazwisko" id="nazwiskoid"> 
        </div>

        <div>
            <fieldset>
                <legend>Płeć</legend>
                <label for="kobid">Kobieta</label>
                <input type="radio" value="k" formControlName="plec" id="kobid"> 
                <label for="mezid">Mezczyzna</label>
                <input type="radio" value="m" formControlName="plec" id="mezid"> 
            </fieldset>
            <ul *ngIf="forma.controls['plec'].errors">
                <li *ngIf="forma.controls['plec'].errors['required']">Musisz wybrać płeć</li>
            </ul>
        </div>

        <div>
            <label for="wiekid">Wiek</label>
            <input type="text" formControlName="wiek" id="wiekid"> 
            <ul *ngIf="forma.controls['wiek'].errors">
                <li *ngIf="forma.controls['wiek'].errors['max']">Wiek jest zbyt wysoki</li>
                <li *ngIf="forma.controls['wiek'].errors['min']">Wiek jest zbyt niski</li>
                <li *ngIf="forma.controls['wiek'].errors['required']">Musisz wpisać wiek</li>
                <li *ngIf="forma.controls['wiek'].errors['parzysta']">Wiek musi być liczbą parzystą</li>
            </ul>
        </div>

        <div *ngIf="forma.valid">
            <input type="button" (click)="wyslij()" value="Wyślij">
        </div>

        <div>
            <input type="button" (click)="kasuj()" value="Kasuj">
        </div>

    </form>
</div>